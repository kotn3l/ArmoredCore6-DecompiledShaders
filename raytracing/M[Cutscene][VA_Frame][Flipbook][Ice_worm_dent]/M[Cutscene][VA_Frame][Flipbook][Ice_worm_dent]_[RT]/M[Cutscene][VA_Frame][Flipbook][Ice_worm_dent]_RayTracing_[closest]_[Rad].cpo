#version 460
#extension GL_EXT_ray_tracing : require
#extension GL_EXT_nonuniform_qualifier : require
#extension GL_EXT_samplerless_texture_functions : require

struct _62
{
    vec3 _m0;
};

struct _66
{
    vec2 _m0;
};

struct _69
{
    uint _m0;
};

layout(set = 0, binding = 0, std140) uniform g_sceneCBUBO
{
    vec4 _m0[16];
} g_sceneCB;

layout(set = 0, binding = 1, std140) uniform cbTextureTilingScaleUBO
{
    vec4 _m0[25];
} cbTextureTilingScale;

layout(set = 0, binding = 3, std140) uniform cbMtdParamUBO
{
    vec4 _m0[23];
} cbMtdParam;

layout(set = 0, binding = 16, std140) uniform l_modelCBUBO
{
    vec4 _m0[2];
} l_modelCB;

layout(set = 0, binding = 64) uniform accelerationStructureEXT g_accelerationStructure;
layout(set = 0, binding = 65) uniform textureCube g_ambientDiffuseTex;
layout(set = 0, binding = 66) uniform textureCube g_ambientSpecularTex;
layout(set = 0, binding = 0) uniform texture2D M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_0;
layout(set = 0, binding = 1) uniform texture2D M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_1;
layout(set = 0, binding = 11) uniform texture2D M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_5;
layout(set = 0, binding = 12) uniform texture2D M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_6;
layout(set = 0, binding = 13) uniform texture2D M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_7;
layout(set = 0, binding = 2) uniform texture2D M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_10;
layout(set = 0, binding = 3) uniform texture2D M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_11;
layout(set = 0, binding = 4) uniform texture2D M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_12;
layout(set = 0, binding = 5) uniform texture2D M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_13;
layout(set = 0, binding = 6) uniform texture2D M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_14;
layout(set = 0, binding = 7) uniform texture2D M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_15;
layout(set = 0, binding = 8) uniform texture2D M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_2;
layout(set = 0, binding = 67) uniform usamplerBuffer l_geomIndexBuffer;
layout(set = 0, binding = 68) uniform usamplerBuffer l_geomPositionBuffer;
layout(set = 0, binding = 69) uniform usamplerBuffer l_geomAttrib_0;
layout(set = 0, binding = 13) uniform sampler g_sampsWrapLinear;
layout(set = 0, binding = 0) uniform sampler SS_DiffuseMap;
layout(set = 0, binding = 2) uniform sampler SS_BumpMap;
layout(set = 0, binding = 8) uniform sampler SS_WrapLinear;
layout(location = 0) rayPayloadInEXT _62 payload;
hitAttributeEXT _66 hit;
layout(location = 1) rayPayloadEXT _69 _71;
layout(location = 2) rayPayloadEXT _69 _72;

vec3 _2075;

void main()
{
    float _80 = float(gl_LaunchSizeEXT.y);
    float _110 = gl_WorldRayDirectionEXT.x * gl_RayTmaxEXT;
    float _111 = gl_WorldRayDirectionEXT.y * gl_RayTmaxEXT;
    float _112 = gl_WorldRayDirectionEXT.z * gl_RayTmaxEXT;
    float _119 = sqrt(((_111 * _111) + (_110 * _110)) + (_112 * _112)) * atan((g_sceneCB._m0[3u].y * 2.0) / float(int(uint(int(g_sceneCB._m0[7u].w * _80)))));
    uvec4 _130 = floatBitsToUint(l_modelCB._m0[0u]);
    uint _131 = _130.y;
    uint _171;
    uint _173;
    uint _174;
    if (_130.x == 0u)
    {
        uint _139 = (_131 + (uint(gl_PrimitiveID) * 12u)) >> 2u;
        uvec3 _148 = uvec3(texelFetch(l_geomIndexBuffer, int(_139)).x, texelFetch(l_geomIndexBuffer, int(_139 + 1u)).x, texelFetch(l_geomIndexBuffer, int(_139 + 2u)).x);
        _171 = _148.x;
        _173 = _148.y;
        _174 = _148.z;
    }
    else
    {
        uint _152 = uint(gl_PrimitiveID) * 6u;
        uint _154 = _152 & 4294967292u;
        uint _157 = (_131 + _154) >> 2u;
        uvec2 _164 = uvec2(texelFetch(l_geomIndexBuffer, int(_157)).x, texelFetch(l_geomIndexBuffer, int(_157 + 1u)).x);
        uint _165 = _164.x;
        uint _166 = _164.y;
        uint _168 = _165 >> 16u;
        uint _169 = _166 & 65535u;
        uint frontier_phi_3_2_ladder;
        uint frontier_phi_3_2_ladder_1;
        uint frontier_phi_3_2_ladder_2;
        if (_154 == _152)
        {
            frontier_phi_3_2_ladder = _168;
            frontier_phi_3_2_ladder_1 = _165 & 65535u;
            frontier_phi_3_2_ladder_2 = _169;
        }
        else
        {
            frontier_phi_3_2_ladder = _169;
            frontier_phi_3_2_ladder_1 = _168;
            frontier_phi_3_2_ladder_2 = _166 >> 16u;
        }
        _171 = frontier_phi_3_2_ladder_1;
        _173 = frontier_phi_3_2_ladder;
        _174 = frontier_phi_3_2_ladder_2;
    }
    uvec4 _178 = floatBitsToUint(l_modelCB._m0[1u]);
    uint _179 = _178.x;
    uint _180 = _178.z;
    bool _181 = _180 != 0u;
    bool _183 = _130.w == 0u;
    bool _184 = _181 || _183;
    uint _185 = _179 * _171;
    uint _186 = _185 + 12u;
    uint _210;
    uint _211;
    uint _212;
    uint _213;
    if (_184)
    {
        uvec4 _189 = texelFetch(l_geomAttrib_0, int(_186 >> 2u));
        uint _190 = _189.x;
        _210 = _190 & 255u;
        _211 = (_190 >> 8u) & 255u;
        _212 = (_190 >> 16u) & 255u;
        _213 = 16u;
    }
    else
    {
        uint _198 = _186 >> 2u;
        uvec2 _204 = uvec2(texelFetch(l_geomAttrib_0, int(_198)).x, texelFetch(l_geomAttrib_0, int(_198 + 1u)).x);
        uint _205 = _204.x;
        _210 = _205 & 65535u;
        _211 = _205 >> 16u;
        _212 = _204.y & 65535u;
        _213 = 20u;
    }
    uvec4 _221 = texelFetch(l_geomAttrib_0, int((_213 + _185) >> 2u));
    uint _222 = _221.x;
    bool _236 = _180 == 0u;
    uint _237;
    if (_236)
    {
        _237 = _213 + 4u;
    }
    else
    {
        uint frontier_phi_9_10_ladder;
        if (_183)
        {
            frontier_phi_9_10_ladder = _213 | 8u;
        }
        else
        {
            frontier_phi_9_10_ladder = _213 + 12u;
        }
        _237 = frontier_phi_9_10_ladder;
    }
    uint _241 = _181 ? (_237 + 4u) : _237;
    uvec4 _245 = texelFetch(l_geomAttrib_0, int(((_185 + 4u) + _241) >> 2u));
    uint _246 = _245.x;
    float _250 = float(int(uint(int(_246 << 16u) >> int(16u))));
    float _251 = float(int(uint(int(_246) >> int(16u))));
    uint _267 = _179 * _173;
    uint _268 = _267 + 12u;
    uint _289;
    uint _290;
    uint _291;
    uint _292;
    if (_184)
    {
        uvec4 _270 = texelFetch(l_geomAttrib_0, int(_268 >> 2u));
        uint _271 = _270.x;
        _289 = _271 & 255u;
        _290 = (_271 >> 8u) & 255u;
        _291 = (_271 >> 16u) & 255u;
        _292 = 16u;
    }
    else
    {
        uint _277 = _268 >> 2u;
        uvec2 _283 = uvec2(texelFetch(l_geomAttrib_0, int(_277)).x, texelFetch(l_geomAttrib_0, int(_277 + 1u)).x);
        uint _284 = _283.x;
        _289 = _284 & 65535u;
        _290 = _284 >> 16u;
        _291 = _283.y & 65535u;
        _292 = 20u;
    }
    uvec4 _298 = texelFetch(l_geomAttrib_0, int((_292 + _267) >> 2u));
    uint _299 = _298.x;
    uint _311;
    if (_236)
    {
        _311 = _292 + 4u;
    }
    else
    {
        uint frontier_phi_16_17_ladder;
        if (_183)
        {
            frontier_phi_16_17_ladder = _292 | 8u;
        }
        else
        {
            frontier_phi_16_17_ladder = _292 + 12u;
        }
        _311 = frontier_phi_16_17_ladder;
    }
    uint _315 = _181 ? (_311 + 4u) : _311;
    uvec4 _319 = texelFetch(l_geomAttrib_0, int(((_267 + 4u) + _315) >> 2u));
    uint _320 = _319.x;
    float _324 = float(int(uint(int(_320 << 16u) >> int(16u))));
    float _325 = float(int(uint(int(_320) >> int(16u))));
    uint _340 = _179 * _174;
    uint _341 = _340 + 12u;
    uint _362;
    uint _363;
    uint _364;
    uint _365;
    if (_184)
    {
        uvec4 _343 = texelFetch(l_geomAttrib_0, int(_341 >> 2u));
        uint _344 = _343.x;
        _362 = _344 & 255u;
        _363 = (_344 >> 8u) & 255u;
        _364 = (_344 >> 16u) & 255u;
        _365 = 16u;
    }
    else
    {
        uint _350 = _341 >> 2u;
        uvec2 _356 = uvec2(texelFetch(l_geomAttrib_0, int(_350)).x, texelFetch(l_geomAttrib_0, int(_350 + 1u)).x);
        uint _357 = _356.x;
        _362 = _357 & 65535u;
        _363 = _357 >> 16u;
        _364 = _356.y & 65535u;
        _365 = 20u;
    }
    uvec4 _371 = texelFetch(l_geomAttrib_0, int((_365 + _340) >> 2u));
    uint _372 = _371.x;
    uint _384;
    if (_236)
    {
        _384 = _365 + 4u;
    }
    else
    {
        uint frontier_phi_23_24_ladder;
        if (_183)
        {
            frontier_phi_23_24_ladder = _365 | 8u;
        }
        else
        {
            frontier_phi_23_24_ladder = _365 + 12u;
        }
        _384 = frontier_phi_23_24_ladder;
    }
    uint _388 = _181 ? (_384 + 4u) : _384;
    uvec4 _392 = texelFetch(l_geomAttrib_0, int(((_340 + 4u) + _388) >> 2u));
    uint _393 = _392.x;
    float _397 = float(int(uint(int(_393 << 16u) >> int(16u))));
    float _398 = float(int(uint(int(_393) >> int(16u))));
    bool _414 = _130.z == 0u;
    float _450;
    float _451;
    float _452;
    if (_414)
    {
        uint _417 = _171 * 3u;
        uvec3 _426 = uvec3(texelFetch(l_geomPositionBuffer, int(_417)).x, texelFetch(l_geomPositionBuffer, int(_417 + 1u)).x, texelFetch(l_geomPositionBuffer, int(_417 + 2u)).x);
        _450 = uintBitsToFloat(_426.x);
        _451 = uintBitsToFloat(_426.y);
        _452 = uintBitsToFloat(_426.z);
    }
    else
    {
        uint _434 = _171 * 2u;
        uvec2 _440 = uvec2(texelFetch(l_geomPositionBuffer, int(_434)).x, texelFetch(l_geomPositionBuffer, int(_434 + 1u)).x);
        uint _441 = _440.x;
        _450 = unpackHalf2x16(_441).x;
        _451 = unpackHalf2x16(_441 >> 16u).x;
        _452 = unpackHalf2x16(_440.y).x;
    }
    float _488;
    float _489;
    float _490;
    if (_414)
    {
        uint _455 = _173 * 3u;
        uvec3 _464 = uvec3(texelFetch(l_geomPositionBuffer, int(_455)).x, texelFetch(l_geomPositionBuffer, int(_455 + 1u)).x, texelFetch(l_geomPositionBuffer, int(_455 + 2u)).x);
        _488 = uintBitsToFloat(_464.x);
        _489 = uintBitsToFloat(_464.y);
        _490 = uintBitsToFloat(_464.z);
    }
    else
    {
        uint _472 = _173 * 2u;
        uvec2 _478 = uvec2(texelFetch(l_geomPositionBuffer, int(_472)).x, texelFetch(l_geomPositionBuffer, int(_472 + 1u)).x);
        uint _479 = _478.x;
        _488 = unpackHalf2x16(_479).x;
        _489 = unpackHalf2x16(_479 >> 16u).x;
        _490 = unpackHalf2x16(_478.y).x;
    }
    float _526;
    float _527;
    float _528;
    if (_414)
    {
        uint _493 = _174 * 3u;
        uvec3 _502 = uvec3(texelFetch(l_geomPositionBuffer, int(_493)).x, texelFetch(l_geomPositionBuffer, int(_493 + 1u)).x, texelFetch(l_geomPositionBuffer, int(_493 + 2u)).x);
        _526 = uintBitsToFloat(_502.x);
        _527 = uintBitsToFloat(_502.y);
        _528 = uintBitsToFloat(_502.z);
    }
    else
    {
        uint _510 = _174 * 2u;
        uvec2 _516 = uvec2(texelFetch(l_geomPositionBuffer, int(_510)).x, texelFetch(l_geomPositionBuffer, int(_510 + 1u)).x);
        uint _517 = _516.x;
        _526 = unpackHalf2x16(_517).x;
        _527 = unpackHalf2x16(_517 >> 16u).x;
        _528 = unpackHalf2x16(_516.y).x;
    }
    float _531 = (1.0 - hit._m0.x) - hit._m0.y;
    float _568 = (((float(texelFetch(l_geomAttrib_0, int(((_267 + 24u) + _315) >> 2u)).x & 255u) * hit._m0.x) + (float(texelFetch(l_geomAttrib_0, int(((_185 + 24u) + _241) >> 2u)).x & 255u) * _531)) + (float(texelFetch(l_geomAttrib_0, int(((_340 + 24u) + _388) >> 2u)).x & 255u) * hit._m0.y)) * 0.0039215688593685626983642578125;
    float _575 = (((float(texelFetch(l_geomAttrib_0, int(((_267 + 28u) + _315) >> 2u)).x & 255u) * hit._m0.x) + (float(texelFetch(l_geomAttrib_0, int(((_185 + 28u) + _241) >> 2u)).x & 255u) * _531)) + (float(texelFetch(l_geomAttrib_0, int(((_340 + 28u) + _388) >> 2u)).x & 255u) * hit._m0.y)) * 0.0039215688593685626983642578125;
    float _578 = (_324 - _250) * 0.00048828125;
    float _580 = (_325 - _251) * 0.00048828125;
    float _583 = (_397 - _250) * 0.00048828125;
    float _584 = (_398 - _251) * 0.00048828125;
    float _606 = _488 - _450;
    float _607 = _489 - _451;
    float _608 = _490 - _452;
    float _611 = fma(_608, gl_ObjectToWorldEXT[2u].x, fma(_607, gl_ObjectToWorldEXT[1u].x, gl_ObjectToWorldEXT[0u].x * _606));
    float _614 = fma(_608, gl_ObjectToWorldEXT[2u].y, fma(_607, gl_ObjectToWorldEXT[1u].y, gl_ObjectToWorldEXT[0u].y * _606));
    float _617 = fma(_608, gl_ObjectToWorldEXT[2u].z, fma(_607, gl_ObjectToWorldEXT[1u].z, gl_ObjectToWorldEXT[0u].z * _606));
    float _618 = _526 - _450;
    float _619 = _527 - _451;
    float _620 = _528 - _452;
    float _623 = fma(_620, gl_ObjectToWorldEXT[2u].x, fma(_619, gl_ObjectToWorldEXT[1u].x, gl_ObjectToWorldEXT[0u].x * _618));
    float _626 = fma(_620, gl_ObjectToWorldEXT[2u].y, fma(_619, gl_ObjectToWorldEXT[1u].y, gl_ObjectToWorldEXT[0u].y * _618));
    float _629 = fma(_620, gl_ObjectToWorldEXT[2u].z, fma(_619, gl_ObjectToWorldEXT[1u].z, gl_ObjectToWorldEXT[0u].z * _618));
    float _630 = (((_324 * hit._m0.x) + (_250 * _531)) + (_397 * hit._m0.y)) * 0.00048828125;
    float _631 = (((_325 * hit._m0.x) + (_251 * _531)) + (_398 * hit._m0.y)) * 0.00048828125;
    float _635 = (((float(_210) * _531) + (-127.0)) + (float(_289) * hit._m0.x)) + (float(_362) * hit._m0.y);
    float _638 = (((float(_211) * _531) + (-127.0)) + (float(_290) * hit._m0.x)) + (float(_363) * hit._m0.y);
    float _641 = (((float(_212) * _531) + (-127.0)) + (float(_291) * hit._m0.x)) + (float(_364) * hit._m0.y);
    float _642 = _635 * 0.0078740157186985015869140625;
    float _644 = _638 * 0.0078740157186985015869140625;
    float _645 = _641 * 0.0078740157186985015869140625;
    float _658 = ((((float(_222 & 255u) * _531) + (-127.0)) + (float(_299 & 255u) * hit._m0.x)) + (float(_372 & 255u) * hit._m0.y)) * 0.0078740157186985015869140625;
    float _659 = ((((float((_222 >> 8u) & 255u) * _531) + (-127.0)) + (float((_299 >> 8u) & 255u) * hit._m0.x)) + (float((_372 >> 8u) & 255u) * hit._m0.y)) * 0.0078740157186985015869140625;
    float _660 = ((((float((_222 >> 16u) & 255u) * _531) + (-127.0)) + (float((_299 >> 16u) & 255u) * hit._m0.x)) + (float((_372 >> 16u) & 255u) * hit._m0.y)) * 0.0078740157186985015869140625;
    float _661 = ((((float(_222 >> 24u) * _531) + (-127.0)) + (float(_299 >> 24u) * hit._m0.x)) + (float(_372 >> 24u) * hit._m0.y)) * 0.0078740157186985015869140625;
    float _671 = ((_659 * _645) - (_660 * _644)) * _661;
    float _672 = ((_660 * _642) - (_658 * _645)) * _661;
    float _673 = ((_658 * _644) - (_659 * _642)) * _661;
    float _677 = inversesqrt(dot(vec3(_671, _672, _673), vec3(_671, _672, _673)));
    float _692 = cbMtdParam._m0[18u].z + _630;
    float _693 = cbMtdParam._m0[18u].w + _631;
    uvec2 _705 = uvec2(textureSize(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_0, int(0u)));
    bool _710 = floatBitsToUint(g_sceneCB._m0[7u]).x == 1u;
    float _763;
    if (_710)
    {
        float _721 = inversesqrt(dot(vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z), vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z)));
        float _727 = (_629 * _614) - (_626 * _617);
        float _730 = (_623 * _617) - (_629 * _611);
        float _733 = (_626 * _611) - (_623 * _614);
        float _760 = ((log2((((float(_705.y) * 0.5) * float(_705.x)) * abs((_584 * _578) - (_583 * _580))) / (sqrt(((_730 * _730) + (_733 * _733)) + (_727 * _727)) * 0.5)) * 0.5) + g_sceneCB._m0[7u].y) + log2(abs(_119) / abs(dot(vec3(_721 * gl_WorldRayDirectionEXT.x, _721 * gl_WorldRayDirectionEXT.y, _721 * gl_WorldRayDirectionEXT.z), vec3(_642, _644, _645))));
        _763 = isnan(0.0) ? _760 : (isnan(_760) ? 0.0 : max(_760, 0.0));
    }
    else
    {
        _763 = 0.0;
    }
    vec4 _767 = textureLod(sampler2D(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_0, SS_DiffuseMap), vec2((cbTextureTilingScale._m0[0u].x * _692) + cbTextureTilingScale._m0[0u].z, (_693 * cbTextureTilingScale._m0[0u].y) + cbTextureTilingScale._m0[0u].w), _763);
    float _772 = _767.x * cbMtdParam._m0[10u].y;
    float _773 = _767.y * cbMtdParam._m0[10u].z;
    float _774 = _767.z * cbMtdParam._m0[10u].w;
    float _786 = cbMtdParam._m0[21u].x + _630;
    float _787 = cbMtdParam._m0[21u].y + _631;
    uvec2 _799 = uvec2(textureSize(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_12, int(0u)));
    float _850;
    if (_710)
    {
        float _810 = inversesqrt(dot(vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z), vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z)));
        float _816 = (_629 * _614) - (_626 * _617);
        float _819 = (_623 * _617) - (_629 * _611);
        float _822 = (_626 * _611) - (_623 * _614);
        float _848 = ((log2((((float(_799.y) * 0.5) * float(_799.x)) * abs((_584 * _578) - (_583 * _580))) / (sqrt(((_819 * _819) + (_822 * _822)) + (_816 * _816)) * 0.5)) * 0.5) + g_sceneCB._m0[7u].y) + log2(abs(_119) / abs(dot(vec3(_810 * gl_WorldRayDirectionEXT.x, _810 * gl_WorldRayDirectionEXT.y, _810 * gl_WorldRayDirectionEXT.z), vec3(_642, _644, _645))));
        _850 = isnan(0.0) ? _848 : (isnan(_848) ? 0.0 : max(_848, 0.0));
    }
    else
    {
        _850 = 0.0;
    }
    vec4 _852 = textureLod(sampler2D(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_12, SS_DiffuseMap), vec2((cbTextureTilingScale._m0[4u].x * _786) + cbTextureTilingScale._m0[4u].z, (_787 * cbTextureTilingScale._m0[4u].y) + cbTextureTilingScale._m0[4u].w), _850);
    uvec4 _863 = floatBitsToUint(cbMtdParam._m0[9u]);
    uvec2 _882 = uvec2(textureSize(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_13, int(0u)));
    float _933;
    if (_710)
    {
        float _893 = inversesqrt(dot(vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z), vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z)));
        float _899 = (_629 * _614) - (_626 * _617);
        float _902 = (_623 * _617) - (_629 * _611);
        float _905 = (_626 * _611) - (_623 * _614);
        float _931 = ((log2((((float(_882.y) * 0.5) * float(_882.x)) * abs((_584 * _578) - (_583 * _580))) / (sqrt(((_902 * _902) + (_905 * _905)) + (_899 * _899)) * 0.5)) * 0.5) + g_sceneCB._m0[7u].y) + log2(abs(_119) / abs(dot(vec3(_893 * gl_WorldRayDirectionEXT.x, _893 * gl_WorldRayDirectionEXT.y, _893 * gl_WorldRayDirectionEXT.z), vec3(_642, _644, _645))));
        _933 = isnan(0.0) ? _931 : (isnan(_931) ? 0.0 : max(_931, 0.0));
    }
    else
    {
        _933 = 0.0;
    }
    float _943 = exp2(log2(cbMtdParam._m0[15u].z * textureLod(sampler2D(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_13, SS_WrapLinear), vec2((cbTextureTilingScale._m0[5u].x * _630) + cbTextureTilingScale._m0[5u].z, (cbTextureTilingScale._m0[5u].y * _631) + cbTextureTilingScale._m0[5u].w), _933).x) * cbMtdParam._m0[15u].w);
    float _2186 = isnan(0.0) ? _943 : (isnan(_943) ? 0.0 : max(_943, 0.0));
    uvec2 _961 = uvec2(textureSize(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_14, int(0u)));
    float _1012;
    if (_710)
    {
        float _972 = inversesqrt(dot(vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z), vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z)));
        float _978 = (_629 * _614) - (_626 * _617);
        float _981 = (_623 * _617) - (_629 * _611);
        float _984 = (_626 * _611) - (_623 * _614);
        float _1010 = ((log2((((float(_961.y) * 0.5) * float(_961.x)) * abs((_584 * _578) - (_583 * _580))) / (sqrt(((_981 * _981) + (_984 * _984)) + (_978 * _978)) * 0.5)) * 0.5) + g_sceneCB._m0[7u].y) + log2(abs(_119) / abs(dot(vec3(_972 * gl_WorldRayDirectionEXT.x, _972 * gl_WorldRayDirectionEXT.y, _972 * gl_WorldRayDirectionEXT.z), vec3(_642, _644, _645))));
        _1012 = isnan(0.0) ? _1010 : (isnan(_1010) ? 0.0 : max(_1010, 0.0));
    }
    else
    {
        _1012 = 0.0;
    }
    float _1022 = exp2(log2(((textureLod(sampler2D(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_14, SS_WrapLinear), vec2((cbTextureTilingScale._m0[6u].x * _630) + cbTextureTilingScale._m0[6u].z, (cbTextureTilingScale._m0[6u].y * _631) + cbTextureTilingScale._m0[6u].w), _1012).x * _568) + _568) * cbMtdParam._m0[15u].y) * cbMtdParam._m0[14u].z);
    float _2202 = isnan(0.0) ? _1022 : (isnan(_1022) ? 0.0 : max(_1022, 0.0));
    float _1024 = (_863.w != 0u) ? (isnan(1.0) ? _2186 : (isnan(_2186) ? 1.0 : min(_2186, 1.0))) : (isnan(1.0) ? _2202 : (isnan(_2202) ? 1.0 : min(_2202, 1.0)));
    float _1031 = (_1024 * ((_852.x * cbMtdParam._m0[13u].y) - _772)) + _772;
    float _1032 = (_1024 * ((_852.y * cbMtdParam._m0[13u].z) - _773)) + _773;
    float _1033 = (_1024 * ((_852.z * cbMtdParam._m0[13u].w) - _774)) + _774;
    float _1043 = cbMtdParam._m0[20u].z + _630;
    float _1044 = cbMtdParam._m0[20u].w + _631;
    uvec2 _1057 = uvec2(textureSize(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_5, int(0u)));
    float _1108;
    if (_710)
    {
        float _1068 = inversesqrt(dot(vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z), vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z)));
        float _1074 = (_629 * _614) - (_626 * _617);
        float _1077 = (_623 * _617) - (_629 * _611);
        float _1080 = (_626 * _611) - (_623 * _614);
        float _1106 = ((log2((((float(_1057.y) * 0.5) * float(_1057.x)) * abs((_584 * _578) - (_583 * _580))) / (sqrt(((_1077 * _1077) + (_1080 * _1080)) + (_1074 * _1074)) * 0.5)) * 0.5) + g_sceneCB._m0[7u].y) + log2(abs(_119) / abs(dot(vec3(_1068 * gl_WorldRayDirectionEXT.x, _1068 * gl_WorldRayDirectionEXT.y, _1068 * gl_WorldRayDirectionEXT.z), vec3(_642, _644, _645))));
        _1108 = isnan(0.0) ? _1106 : (isnan(_1106) ? 0.0 : max(_1106, 0.0));
    }
    else
    {
        _1108 = 0.0;
    }
    vec4 _1110 = textureLod(sampler2D(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_5, SS_DiffuseMap), vec2((cbTextureTilingScale._m0[11u].x * _1043) + cbTextureTilingScale._m0[11u].z, (_1044 * cbTextureTilingScale._m0[11u].y) + cbTextureTilingScale._m0[11u].w), _1108);
    uvec2 _1138 = uvec2(textureSize(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_15, int(0u)));
    float _1189;
    if (_710)
    {
        float _1149 = inversesqrt(dot(vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z), vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z)));
        float _1155 = (_629 * _614) - (_626 * _617);
        float _1158 = (_623 * _617) - (_629 * _611);
        float _1161 = (_626 * _611) - (_623 * _614);
        float _1187 = ((log2((((float(_1138.y) * 0.5) * float(_1138.x)) * abs((_584 * _578) - (_583 * _580))) / (sqrt(((_1158 * _1158) + (_1161 * _1161)) + (_1155 * _1155)) * 0.5)) * 0.5) + g_sceneCB._m0[7u].y) + log2(abs(_119) / abs(dot(vec3(_1149 * gl_WorldRayDirectionEXT.x, _1149 * gl_WorldRayDirectionEXT.y, _1149 * gl_WorldRayDirectionEXT.z), vec3(_642, _644, _645))));
        _1189 = isnan(0.0) ? _1187 : (isnan(_1187) ? 0.0 : max(_1187, 0.0));
    }
    else
    {
        _1189 = 0.0;
    }
    float _1199 = exp2(log2(((textureLod(sampler2D(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_15, SS_WrapLinear), vec2((cbTextureTilingScale._m0[7u].x * _630) + cbTextureTilingScale._m0[7u].z, (cbTextureTilingScale._m0[7u].y * _631) + cbTextureTilingScale._m0[7u].w), _1189).x * _575) + _575) * cbMtdParam._m0[16u].x) * cbMtdParam._m0[16u].y);
    float _2223 = isnan(0.0) ? _1199 : (isnan(_1199) ? 0.0 : max(_1199, 0.0));
    float _1202 = log2(0.0);
    float _1204 = exp2(_1202 * cbMtdParam._m0[15u].x);
    float _2234 = isnan(0.0) ? _1204 : (isnan(_1204) ? 0.0 : max(_1204, 0.0));
    float _1206 = (floatBitsToUint(cbMtdParam._m0[10u]).x != 0u) ? (isnan(1.0) ? _2234 : (isnan(_2234) ? 1.0 : min(_2234, 1.0))) : (isnan(1.0) ? _2223 : (isnan(_2223) ? 1.0 : min(_2223, 1.0)));
    float _1213 = (_1206 * ((_1110.x * cbMtdParam._m0[12u].y) - _1031)) + _1031;
    float _1214 = (_1206 * ((_1110.y * cbMtdParam._m0[12u].z) - _1032)) + _1032;
    float _1215 = (_1206 * ((_1110.z * cbMtdParam._m0[12u].w) - _1033)) + _1033;
    uvec2 _1228 = uvec2(textureSize(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_2, int(0u)));
    float _1279;
    if (_710)
    {
        float _1239 = inversesqrt(dot(vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z), vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z)));
        float _1245 = (_629 * _614) - (_626 * _617);
        float _1248 = (_623 * _617) - (_629 * _611);
        float _1251 = (_626 * _611) - (_623 * _614);
        float _1277 = ((log2((((float(_1228.y) * 0.5) * float(_1228.x)) * abs((_584 * _578) - (_583 * _580))) / (sqrt(((_1248 * _1248) + (_1251 * _1251)) + (_1245 * _1245)) * 0.5)) * 0.5) + g_sceneCB._m0[7u].y) + log2(abs(_119) / abs(dot(vec3(_1239 * gl_WorldRayDirectionEXT.x, _1239 * gl_WorldRayDirectionEXT.y, _1239 * gl_WorldRayDirectionEXT.z), vec3(_642, _644, _645))));
        _1279 = isnan(0.0) ? _1277 : (isnan(_1277) ? 0.0 : max(_1277, 0.0));
    }
    else
    {
        _1279 = 0.0;
    }
    float _1284 = textureLod(sampler2D(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_2, SS_WrapLinear), vec2((cbTextureTilingScale._m0[8u].x * _692) + cbTextureTilingScale._m0[8u].z, (cbTextureTilingScale._m0[8u].y * _693) + cbTextureTilingScale._m0[8u].w), _1279).x + cbMtdParam._m0[14u].y;
    uvec2 _1297 = uvec2(textureSize(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_10, int(0u)));
    float _1348;
    if (_710)
    {
        float _1308 = inversesqrt(dot(vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z), vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z)));
        float _1314 = (_629 * _614) - (_626 * _617);
        float _1317 = (_623 * _617) - (_629 * _611);
        float _1320 = (_626 * _611) - (_623 * _614);
        float _1346 = ((log2((((float(_1297.y) * 0.5) * float(_1297.x)) * abs((_584 * _578) - (_583 * _580))) / (sqrt(((_1317 * _1317) + (_1320 * _1320)) + (_1314 * _1314)) * 0.5)) * 0.5) + g_sceneCB._m0[7u].y) + log2(abs(_119) / abs(dot(vec3(_1308 * gl_WorldRayDirectionEXT.x, _1308 * gl_WorldRayDirectionEXT.y, _1308 * gl_WorldRayDirectionEXT.z), vec3(_642, _644, _645))));
        _1348 = isnan(0.0) ? _1346 : (isnan(_1346) ? 0.0 : max(_1346, 0.0));
    }
    else
    {
        _1348 = 0.0;
    }
    float _1356 = (((cbMtdParam._m0[18u].y - _1284) + textureLod(sampler2D(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_10, SS_WrapLinear), vec2((cbTextureTilingScale._m0[2u].x * _786) + cbTextureTilingScale._m0[2u].z, (cbTextureTilingScale._m0[2u].y * _787) + cbTextureTilingScale._m0[2u].w), _1348).x) * _1024) + _1284;
    uvec2 _1372 = uvec2(textureSize(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_6, int(0u)));
    float _1423;
    if (_710)
    {
        float _1383 = inversesqrt(dot(vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z), vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z)));
        float _1389 = (_629 * _614) - (_626 * _617);
        float _1392 = (_623 * _617) - (_629 * _611);
        float _1395 = (_626 * _611) - (_623 * _614);
        float _1421 = ((log2((((float(_1372.y) * 0.5) * float(_1372.x)) * abs((_584 * _578) - (_583 * _580))) / (sqrt(((_1392 * _1392) + (_1395 * _1395)) + (_1389 * _1389)) * 0.5)) * 0.5) + g_sceneCB._m0[7u].y) + log2(abs(_119) / abs(dot(vec3(_1383 * gl_WorldRayDirectionEXT.x, _1383 * gl_WorldRayDirectionEXT.y, _1383 * gl_WorldRayDirectionEXT.z), vec3(_642, _644, _645))));
        _1423 = isnan(0.0) ? _1421 : (isnan(_1421) ? 0.0 : max(_1421, 0.0));
    }
    else
    {
        _1423 = 0.0;
    }
    float _1431 = (((cbMtdParam._m0[17u].z - _1356) + textureLod(sampler2D(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_6, SS_WrapLinear), vec2((cbTextureTilingScale._m0[12u].x * _1043) + cbTextureTilingScale._m0[12u].z, (cbTextureTilingScale._m0[12u].y * _1044) + cbTextureTilingScale._m0[12u].w), _1423).x) * _1206) + _1356;
    uvec2 _1443 = uvec2(textureSize(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_1, int(0u)));
    float _1494;
    if (_710)
    {
        float _1454 = inversesqrt(dot(vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z), vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z)));
        float _1460 = (_629 * _614) - (_626 * _617);
        float _1463 = (_623 * _617) - (_629 * _611);
        float _1466 = (_626 * _611) - (_623 * _614);
        float _1492 = ((log2((((float(_1443.y) * 0.5) * float(_1443.x)) * abs((_584 * _578) - (_583 * _580))) / (sqrt(((_1463 * _1463) + (_1466 * _1466)) + (_1460 * _1460)) * 0.5)) * 0.5) + g_sceneCB._m0[7u].y) + log2(abs(_119) / abs(dot(vec3(_1454 * gl_WorldRayDirectionEXT.x, _1454 * gl_WorldRayDirectionEXT.y, _1454 * gl_WorldRayDirectionEXT.z), vec3(_642, _644, _645))));
        _1494 = isnan(0.0) ? _1492 : (isnan(_1492) ? 0.0 : max(_1492, 0.0));
    }
    else
    {
        _1494 = 0.0;
    }
    vec4 _1497 = textureLod(sampler2D(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_1, SS_BumpMap), vec2((cbTextureTilingScale._m0[1u].x * _692) + cbTextureTilingScale._m0[1u].z, (cbTextureTilingScale._m0[1u].y * _693) + cbTextureTilingScale._m0[1u].w), _1494);
    float _1499 = _1497.x;
    float _1500 = _1497.y;
    float _1501 = _1497.z;
    uvec2 _1513 = uvec2(textureSize(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_11, int(0u)));
    float _1564;
    if (_710)
    {
        float _1524 = inversesqrt(dot(vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z), vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z)));
        float _1530 = (_629 * _614) - (_626 * _617);
        float _1533 = (_623 * _617) - (_629 * _611);
        float _1536 = (_626 * _611) - (_623 * _614);
        float _1562 = ((log2((((float(_1513.y) * 0.5) * float(_1513.x)) * abs((_584 * _578) - (_583 * _580))) / (sqrt(((_1533 * _1533) + (_1536 * _1536)) + (_1530 * _1530)) * 0.5)) * 0.5) + g_sceneCB._m0[7u].y) + log2(abs(_119) / abs(dot(vec3(_1524 * gl_WorldRayDirectionEXT.x, _1524 * gl_WorldRayDirectionEXT.y, _1524 * gl_WorldRayDirectionEXT.z), vec3(_642, _644, _645))));
        _1564 = isnan(0.0) ? _1562 : (isnan(_1562) ? 0.0 : max(_1562, 0.0));
    }
    else
    {
        _1564 = 0.0;
    }
    vec4 _1566 = textureLod(sampler2D(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_11, SS_BumpMap), vec2((cbTextureTilingScale._m0[3u].x * _786) + cbTextureTilingScale._m0[3u].z, (cbTextureTilingScale._m0[3u].y * _787) + cbTextureTilingScale._m0[3u].w), _1564);
    float _1577 = ((_1566.x - _1499) * _1024) + _1499;
    float _1578 = ((_1566.y - _1500) * _1024) + _1500;
    float _1579 = ((_1566.z - _1501) * _1024) + _1501;
    uvec2 _1591 = uvec2(textureSize(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_7, int(0u)));
    float _1595 = inversesqrt(dot(vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z), vec3(gl_WorldRayDirectionEXT.x, gl_WorldRayDirectionEXT.y, gl_WorldRayDirectionEXT.z)));
    float _1596 = _1595 * gl_WorldRayDirectionEXT.x;
    float _1597 = _1595 * gl_WorldRayDirectionEXT.y;
    float _1598 = _1595 * gl_WorldRayDirectionEXT.z;
    float _1642;
    if (_710)
    {
        float _1608 = (_629 * _614) - (_626 * _617);
        float _1611 = (_623 * _617) - (_629 * _611);
        float _1614 = (_626 * _611) - (_623 * _614);
        float _1640 = ((log2((((float(_1591.y) * 0.5) * float(_1591.x)) * abs((_584 * _578) - (_583 * _580))) / (sqrt(((_1611 * _1611) + (_1614 * _1614)) + (_1608 * _1608)) * 0.5)) * 0.5) + g_sceneCB._m0[7u].y) + log2(abs(_119) / abs(dot(vec3(_1596, _1597, _1598), vec3(_642, _644, _645))));
        _1642 = isnan(0.0) ? _1640 : (isnan(_1640) ? 0.0 : max(_1640, 0.0));
    }
    else
    {
        _1642 = 0.0;
    }
    vec4 _1644 = textureLod(sampler2D(M_Cutscene_VA_Frame_Flipbook_Ice_worm_dent_snp_0_Texture2D_7, SS_BumpMap), vec2((cbTextureTilingScale._m0[13u].x * _1043) + cbTextureTilingScale._m0[13u].z, (cbTextureTilingScale._m0[13u].y * _1044) + cbTextureTilingScale._m0[13u].w), _1642);
    float _1657 = ((_1644.z - _1579) * _1206) + _1579;
    float _1660 = ((((_1644.x - _1577) * _1206) + _1577) * 2.0) + (-1.0);
    float _1662 = ((((_1644.y - _1578) * _1206) + _1578) * 2.0) + (-1.0);
    float _1663 = dot(vec2(_1660, _1662), vec2(_1660, _1662));
    float _2275 = isnan(0.0) ? _1663 : (isnan(_1663) ? 0.0 : max(_1663, 0.0));
    float _1668 = sqrt(1.0 - (isnan(1.0) ? _2275 : (isnan(_2275) ? 1.0 : min(_2275, 1.0))));
    bool _1670 = _863.x != 0u;
    float _1687 = fma(_1668, _642, fma(_1662, _658, (_677 * _671) * _1660));
    float _1690 = fma(_1668, _644, fma(_1662, _659, (_677 * _672) * _1660));
    float _1693 = fma(_1668, _645, fma(_1662, _660, (_677 * _673) * _1660));
    float _1697 = inversesqrt(dot(vec3(_1687, _1690, _1693), vec3(_1687, _1690, _1693)));
    float _1698 = _1697 * _1687;
    float _1699 = _1697 * _1690;
    float _1700 = _1697 * _1693;
    float _1712 = (gl_RayTmaxEXT * gl_WorldRayDirectionEXT.x) + gl_WorldRayOriginEXT.x;
    float _1713 = (gl_RayTmaxEXT * gl_WorldRayDirectionEXT.y) + gl_WorldRayOriginEXT.y;
    float _1714 = (gl_RayTmaxEXT * gl_WorldRayDirectionEXT.z) + gl_WorldRayOriginEXT.z;
    float _1715 = (-0.0) - _1596;
    float _1717 = (-0.0) - _1597;
    float _1718 = (-0.0) - _1598;
    float _1724 = float(gl_LaunchIDEXT.x);
    float _1725 = float(gl_LaunchIDEXT.y);
    float _1728 = float(gl_LaunchSizeEXT.x);
    float _1742 = fract(fract(sin(dot(vec2(_1724 / _1728, _1725 / _80), vec2(26.438999176025390625, 48.23600006103515625))) * 347.975006103515625) * 578.22900390625);
    float _1755 = fract(fract(sin(dot(vec2((_1724 + 128.0) / _1728, (_1725 + 128.0) / _80), vec2(26.438999176025390625, 48.23600006103515625))) * 347.975006103515625) * 578.22900390625);
    float _1756 = 1.0 - _1431;
    float _1757 = _1756 * _1213;
    float _1758 = _1756 * _1214;
    float _1759 = _1756 * _1215;
    float _1764 = _1431 * (_1213 + (-0.039999999105930328369140625));
    float _1765 = _1431 * (_1214 + (-0.039999999105930328369140625));
    float _1766 = _1431 * (_1215 + (-0.039999999105930328369140625));
    float _1767 = _1764 + 0.039999999105930328369140625;
    float _1769 = _1765 + 0.039999999105930328369140625;
    float _1770 = _1766 + 0.039999999105930328369140625;
    _72._m0 = 1u;
    uvec4 _1780 = floatBitsToUint(g_sceneCB._m0[8u]);
    uint _1781 = _1780.y;
    traceRayEXT(g_accelerationStructure, 28u, 2u, _1781, _1780.w, _1781, vec3(_1712, _1713, _1714), 9.9999997473787516355514526367188e-05, vec3(g_sceneCB._m0[4u].xyz), 10000.0, 2);
    float _1894;
    float _1895;
    float _1896;
    float _1897;
    float _1898;
    float _1899;
    if (_72._m0 == 0u)
    {
        float _1800 = dot(vec3(g_sceneCB._m0[4u].xyz), vec3(_1698, _1699, _1700));
        float _2286 = isnan(0.0) ? _1800 : (isnan(_1800) ? 0.0 : max(_1800, 0.0));
        float _1803 = isnan(1.0) ? _2286 : (isnan(_2286) ? 1.0 : min(_2286, 1.0));
        float _1822 = 1.0 - (sqrt((1.0 - (0.07500000298023223876953125 / g_sceneCB._m0[4u].w)) * _1657) * 0.949999988079071044921875);
        float _1823 = _1822 * _1822;
        float _1824 = g_sceneCB._m0[4u].x - _1596;
        float _1825 = g_sceneCB._m0[4u].y - _1597;
        float _1826 = g_sceneCB._m0[4u].z - _1598;
        float _1830 = inversesqrt(dot(vec3(_1824, _1825, _1826), vec3(_1824, _1825, _1826)));
        float _1831 = _1830 * _1824;
        float _1832 = _1830 * _1825;
        float _1833 = _1830 * _1826;
        float _1834 = dot(vec3(_1698, _1699, _1700), vec3(g_sceneCB._m0[4u].xyz));
        float _2297 = isnan(0.0) ? _1834 : (isnan(_1834) ? 0.0 : max(_1834, 0.0));
        float _1837 = isnan(1.0) ? _2297 : (isnan(_2297) ? 1.0 : min(_2297, 1.0));
        float _1838 = dot(vec3(_1698, _1699, _1700), vec3(_1715, _1717, _1718));
        float _2308 = isnan(0.0) ? _1838 : (isnan(_1838) ? 0.0 : max(_1838, 0.0));
        float _1841 = isnan(1.0) ? _2308 : (isnan(_2308) ? 1.0 : min(_2308, 1.0));
        float _1842 = dot(vec3(_1698, _1699, _1700), vec3(_1831, _1832, _1833));
        float _2319 = isnan(0.0) ? _1842 : (isnan(_1842) ? 0.0 : max(_1842, 0.0));
        float _1845 = isnan(1.0) ? _2319 : (isnan(_2319) ? 1.0 : min(_2319, 1.0));
        float _1846 = dot(vec3(g_sceneCB._m0[4u].xyz), vec3(_1831, _1832, _1833));
        float _2330 = isnan(0.0) ? _1846 : (isnan(_1846) ? 0.0 : max(_1846, 0.0));
        float _1850 = _1823 * _1823;
        float _1854 = ((_1845 * _1845) * (_1850 + (-1.0))) + 1.0;
        float _1863 = exp2(log2(1.0 - (isnan(1.0) ? _2330 : (isnan(_2330) ? 1.0 : min(_2330, 1.0)))) * 5.0);
        float _1874 = 1.0 - _1823;
        float _1885 = (0.5 / (((_1841 * ((_1837 * _1874) + _1823)) + 9.9999999392252902907785028219223e-09) + (((_1841 * _1874) + _1823) * _1837))) * _1837;
        float _2341 = isnan(0.0) ? _1885 : (isnan(_1885) ? 0.0 : max(_1885, 0.0));
        float _1887 = (isnan(1.0) ? _2341 : (isnan(_2341) ? 1.0 : min(_2341, 1.0))) * (_1850 / ((_1854 * _1854) * 3.141590118408203125));
        _1894 = ((_1757 * 0.3183098733425140380859375) * g_sceneCB._m0[5u].x) * _1803;
        _1895 = ((_1758 * 0.3183098733425140380859375) * g_sceneCB._m0[5u].y) * _1803;
        _1896 = ((_1759 * 0.3183098733425140380859375) * g_sceneCB._m0[5u].z) * _1803;
        _1897 = (((_1863 * (0.959999978542327880859375 - _1764)) + _1767) * g_sceneCB._m0[5u].x) * _1887;
        _1898 = (((_1863 * (0.959999978542327880859375 - _1765)) + _1769) * g_sceneCB._m0[5u].y) * _1887;
        _1899 = (((_1863 * (0.959999978542327880859375 - _1766)) + _1770) * g_sceneCB._m0[5u].z) * _1887;
    }
    else
    {
        _1894 = 0.0;
        _1895 = 0.0;
        _1896 = 0.0;
        _1897 = 0.0;
        _1898 = 0.0;
        _1899 = 0.0;
    }
    bool _1901 = abs(_1699) < 0.89999997615814208984375;
    float _1903 = float(_1901);
    float _1904 = _1901 ? 0.0 : 1.0;
    float _1907 = (_1903 * _1700) - (_1904 * _1699);
    float _1908 = _1904 * _1698;
    float _1910 = (-0.0) - (_1698 * _1903);
    float _1914 = inversesqrt(dot(vec3(_1907, _1908, _1910), vec3(_1907, _1908, _1910)));
    float _1915 = _1907 * _1914;
    float _1916 = _1908 * _1914;
    float _1917 = _1914 * _1910;
    float _1920 = (_1916 * _1700) - (_1917 * _1699);
    float _1923 = (_1917 * _1698) - (_1915 * _1700);
    float _1926 = (_1915 * _1699) - (_1916 * _1698);
    float _1928;
    float _1936;
    float _1927 = 0.0;
    uint _1929 = 0u;
    float _1933;
    bool _1935;
    for (;;)
    {
        _1933 = (float(_1929) + _1742) * 0.03125;
        _1935 = _1929 == 0u;
        float frontier_phi_63_pred;
        if (_1935)
        {
            frontier_phi_63_pred = 0.0;
        }
        else
        {
            float _2080;
            float _2081;
            uint _2083;
            _2080 = 0.0;
            _2081 = 0.5;
            _2083 = _1929;
            float _1937;
            for (;;)
            {
                _1937 = ((_2083 & 1u) != 0u) ? (_2081 + _2080) : _2080;
                uint _2084 = _2083 >> 1u;
                if (_2084 == 0u)
                {
                    break;
                }
                else
                {
                    _2080 = _1937;
                    _2081 *= 0.5;
                    _2083 = _2084;
                }
            }
            frontier_phi_63_pred = _1937;
        }
        _1936 = frontier_phi_63_pred;
        float _1938 = _1936 + _1755;
        float _1942 = sqrt(_1933);
        float _1943 = ((_1938 > 1.0) ? (_1938 + (-1.0)) : _1938) * 6.283185482025146484375;
        float _1946 = cos(_1943) * _1942;
        float _1948 = sin(_1943) * _1942;
        float _1950 = sqrt(1.0 - _1933);
        float _1963 = ((_1950 * _1698) + (_1946 * _1920)) + (_1948 * _1915);
        float _1964 = ((_1950 * _1699) + (_1946 * _1923)) + (_1948 * _1916);
        float _1965 = ((_1950 * _1700) + (_1946 * _1926)) + (_1948 * _1917);
        _71._m0 = 1u;
        uvec4 _1969 = floatBitsToUint(g_sceneCB._m0[8u]);
        uint _1970 = _1969.y;
        traceRayEXT(g_accelerationStructure, 28u, 1u, _1970, _1969.w, _1970, vec3(_1712, _1713, _1714), 9.9999997473787516355514526367188e-05, vec3(_1963, _1964, _1965), 10000.0, 1);
        float _1976 = dot(vec3(_1698, _1699, _1700), vec3(_1963, _1964, _1965));
        float _2352 = isnan(0.0) ? _1976 : (isnan(_1976) ? 0.0 : max(_1976, 0.0));
        float _1979 = isnan(1.0) ? _2352 : (isnan(_2352) ? 1.0 : min(_2352, 1.0));
        _1928 = ((float(_71._m0 == 0u) * _1979) / (_1979 * 0.3183098733425140380859375)) + _1927;
        uint _1930 = _1929 + 1u;
        if (_1930 == 32u)
        {
            break;
        }
        else
        {
            _1927 = _1928;
            _1929 = _1930;
            continue;
        }
    }
    float _1987 = _1928 * 0.009947183541953563690185546875;
    float _1992 = dot(vec3(_1596, _1597, _1598), vec3(_1698, _1699, _1700)) * 2.0;
    vec4 _2006 = textureLod(samplerCube(g_ambientSpecularTex, g_sampsWrapLinear), vec3(_1596 - (_1992 * _1698), _1597 - (_1992 * _1699), _1598 - (_1992 * _1700)), 4.0 - (_1657 * 4.0));
    float _2011 = dot(vec3(_1715, _1717, _1718), vec3(_1698, _1699, _1700));
    float _2363 = isnan(0.0) ? _2011 : (isnan(_2011) ? 0.0 : max(_2011, 0.0));
    float _2021 = exp2(log2(1.0 - (isnan(1.0) ? _2363 : (isnan(_2363) ? 1.0 : min(_2363, 1.0)))) * 5.0);
    vec4 _2033 = textureLod(samplerCube(g_ambientDiffuseTex, g_sampsWrapLinear), vec3(_1698, _1699, _1700), 0.0);
    float _2045 = ((_1894 + (_1670 ? cbMtdParam._m0[21u].z : cbMtdParam._m0[11u].y)) + _1897) + (((_2033.x * _1757) + (((_2021 * (0.959999978542327880859375 - _1764)) + _1767) * _2006.x)) * _1987);
    float _2050 = ((_1895 + (_1670 ? cbMtdParam._m0[21u].w : cbMtdParam._m0[11u].z)) + _1898) + (((_2033.y * _1758) + (((_2021 * (0.959999978542327880859375 - _1765)) + _1769) * _2006.y)) * _1987);
    float _2055 = ((_1896 + (_1670 ? cbMtdParam._m0[22u].x : cbMtdParam._m0[11u].w)) + _1899) + (((_2033.z * _1759) + (((_2021 * (0.959999978542327880859375 - _1766)) + _1770) * _2006.z)) * _1987);
    float _2374 = isnan(0.0) ? _2045 : (isnan(_2045) ? 0.0 : max(_2045, 0.0));
    float _2385 = isnan(0.0) ? _2050 : (isnan(_2050) ? 0.0 : max(_2050, 0.0));
    float _2396 = isnan(0.0) ? _2055 : (isnan(_2055) ? 0.0 : max(_2055, 0.0));
    bool _2063 = floatBitsToUint(g_sceneCB._m0[10u]).x == 2u;
    vec3 _2074;
    _2074.x = _2063 ? ((_635 * 0.00393700785934925079345703125) + 0.5) : (isnan(1.0) ? _2374 : (isnan(_2374) ? 1.0 : min(_2374, 1.0)));
    _2074.y = _2063 ? ((_638 * 0.00393700785934925079345703125) + 0.5) : (isnan(1.0) ? _2385 : (isnan(_2385) ? 1.0 : min(_2385, 1.0)));
    _2074.z = _2063 ? ((_641 * 0.00393700785934925079345703125) + 0.5) : (isnan(1.0) ? _2396 : (isnan(_2396) ? 1.0 : min(_2396, 1.0)));
    payload._m0 = _2074;
}


